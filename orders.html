<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Orders - Amazon Clone</title>
    <link rel="stylesheet" href="styles.css">
    <script src="app.js" defer></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top">
            <div class="logo" onclick="window.location.href='index.html'">
                <span class="logo-text">amazon</span>
            </div>
            <div class="search-container">
                <select class="search-category">
                    <option>All</option>
                    <option>Electronics</option>
                    <option>Fashion</option>
                    <option>Home & Kitchen</option>
                    <option>Books</option>
                </select>
                <input type="text" class="search-input" id="searchInput" placeholder="Search Amazon">
                <button class="search-btn" id="searchBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </div>
            <div class="header-right">
                <div class="header-item" onclick="openSignInModal()">
                    <span class="header-line-1" id="userGreeting">Hello, Sign in</span>
                    <span class="header-line-2">Account & Lists</span>
                </div>
                <div class="header-item" onclick="window.location.href='orders.html'">
                    <span class="header-line-1">Returns</span>
                    <span class="header-line-2">& Orders</span>
                </div>
                <div class="header-item cart" onclick="openCart()">
                    <div class="cart-icon">
                        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <path d="M16 10a4 4 0 0 1-8 0"></path>
                        </svg>
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                    <span class="header-line-2">Cart</span>
                </div>
            </div>
        </div>
        <nav class="nav-menu">
            <a href="index.html" class="nav-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                All
            </a>
            <a href="deals.html" class="nav-link">Today's Deals</a>
            <a href="customer-service.html" class="nav-link">Customer Service</a>
            <a href="registry.html" class="nav-link">Registry</a>
            <a href="gift-cards.html" class="nav-link">Gift Cards</a>
            <a href="sell.html" class="nav-link">Sell</a>
            <a href="electronics.html" class="nav-link">Electronics</a>
            <a href="fashion.html" class="nav-link">Fashion</a>
            <a href="home-kitchen.html" class="nav-link">Home & Kitchen</a>
            <a href="books.html" class="nav-link">Books</a>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <section class="product-section">
            <div class="section-header">
                <h2>Your Orders</h2>
                <button class="signout-btn" id="signOutBtn" style="display: none;">Sign Out</button>
            </div>
            <div id="ordersContainer" style="padding: 20px;">
                <!-- Orders will be displayed here -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
            <a href="#" class="back-to-top">Back to top</a>
        </div>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Get to Know Us</h3>
                <ul>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">About Amazon</a></li>
                    <li><a href="#">Investor Relations</a></li>
                    <li><a href="#">Amazon Devices</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Make Money with Us</h3>
                <ul>
                    <li><a href="#">Sell products on Amazon</a></li>
                    <li><a href="#">Sell on Amazon Business</a></li>
                    <li><a href="#">Sell apps on Amazon</a></li>
                    <li><a href="#">Become an Affiliate</a></li>
                    <li><a href="#">Advertise Your Products</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Amazon Payment Products</h3>
                <ul>
                    <li><a href="#">Amazon Business Card</a></li>
                    <li><a href="#">Shop with Points</a></li>
                    <li><a href="#">Reload Your Balance</a></li>
                    <li><a href="#">Amazon Currency Converter</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Need Help?</h3>
                <ul>
                    <li><a href="#">COVID-19 and Amazon</a></li>
                    <li><a href="#">Your Account</a></li>
                    <li><a href="#">Your Orders</a></li>
                    <li><a href="#">Shipping Rates & Policies</a></li>
                    <li><a href="#">Returns & Replacements</a></li>
                    <li><a href="#">Help</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-logo">
                <span class="logo-text">amazon</span>
            </div>
            <div class="footer-links">
                <a href="#">Conditions of Use</a>
                <a href="#">Privacy Notice</a>
                <a href="#">Interest-Based Ads</a>
            </div>
            <div class="copyright">
                <p>&copy; 1996-2024, Amazon.com, Inc. or its affiliates</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-sidebar-header">
            <h2>Shopping Cart</h2>
            <button class="close-cart" id="closeCart">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">
                <p>Your cart is empty</p>
                <button class="continue-shopping-btn" onclick="closeCart()">Continue Shopping</button>
            </div>
        </div>
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
                <div class="subtotal">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">EG0.00</span>
                </div>
                <div class="tax">
                    <span>Tax (14%):</span>
                    <span id="cartTax">EG0.00</span>
                </div>
                <div class="total">
                    <span>Total:</span>
                    <span id="cartTotal">EG0.00</span>
                </div>
            </div>
            <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>
    <div class="cart-overlay" id="cartOverlay"></div>

    <!-- Sign In Modal -->
    <div class="signin-modal" id="signInModal">
        <div class="signin-content">
            <button class="close-signin" id="closeSignIn">&times;</button>
            <div class="signin-header">
                <h2>Sign in</h2>
            </div>
            
            <!-- Sign In Tab -->
            <div id="signInTab">
                <form id="signInForm" class="signin-form">
                    <div class="form-group">
                        <label for="signInEmail">Email or mobile phone number</label>
                        <input type="email" id="signInEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="signInPassword">Password</label>
                        <input type="password" id="signInPassword" required>
                    </div>
                    <button type="submit" class="signin-btn">Sign in</button>
                </form>
                <div class="signin-footer">
                    <p>New to Amazon? <a href="#" id="switchToCreate">Create your Amazon account</a></p>
                </div>
            </div>
            
            <!-- Create Account Tab -->
            <div id="createAccountTab" style="display: none;">
                <form id="createAccountForm" class="signin-form">
                    <div class="form-group">
                        <label for="createName">Your name</label>
                        <input type="text" id="createName" required>
                    </div>
                    <div class="form-group">
                        <label for="createEmail">Email</label>
                        <input type="email" id="createEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="createPassword">Password</label>
                        <input type="password" id="createPassword" placeholder="At least 6 characters" minlength="6" required>
                    </div>
                    <button type="submit" class="signin-btn">Create account</button>
                </form>
                <div class="signin-footer">
                    <p>Already have an account? <a href="#" id="switchToSignIn">Sign in</a></p>
                </div>
            </div>
        </div>
        <div class="signin-overlay" id="signInOverlay"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const ordersContainer = document.getElementById('ordersContainer');
            const signOutBtn = document.getElementById('signOutBtn');
            const userGreeting = document.getElementById('userGreeting');
            
            if (!currentUser) {
                ordersContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <h3 style="margin-bottom: 20px;">Please sign in to view your orders</h3>
                        <button onclick="openSignInModal()" class="signin-btn" style="padding: 12px 30px;">Sign In</button>
                    </div>
                `;
            } else {
                if (userGreeting) {
                    userGreeting.textContent = `Hello, ${currentUser.name.split(' ')[0]}`;
                }
                if (signOutBtn) {
                    signOutBtn.style.display = 'block';
                }
                
                if (orders.length === 0) {
                    ordersContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px;">
                            <h3 style="margin-bottom: 20px;">You haven't placed any orders yet</h3>
                            <a href="index.html" class="signin-btn" style="display: inline-block; padding: 12px 30px; text-decoration: none;">Start Shopping</a>
                        </div>
                    `;
                } else {
                    ordersContainer.innerHTML = orders.reverse().map(order => {
                        const orderDate = new Date(order.date);
                        return `
                            <div class="order-card" style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin-bottom: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
                                    <div>
                                        <p style="margin: 0; color: #666; font-size: 14px;">ORDER PLACED</p>
                                        <p style="margin: 5px 0 0 0; font-weight: 600;">${orderDate.toLocaleDateString()}</p>
                                    </div>
                                    <div>
                                        <p style="margin: 0; color: #666; font-size: 14px;">TOTAL</p>
                                        <p style="margin: 5px 0 0 0; font-weight: 600;">EG${order.total.toFixed(2)}</p>
                                    </div>
                                    <div>
                                        <p style="margin: 0; color: #666; font-size: 14px;">SHIP TO</p>
                                        <p style="margin: 5px 0 0 0; font-weight: 600;">${order.shippingInfo.fullName}</p>
                                    </div>
                                    <div>
                                        <p style="margin: 0; color: #666; font-size: 14px;">ORDER #</p>
                                        <p style="margin: 5px 0 0 0; font-weight: 600; font-size: 12px;">${order.id}</p>
                                    </div>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <span style="background: #238823; color: white; padding: 5px 10px; border-radius: 4px; font-size: 12px; font-weight: 600;">${order.status}</span>
                                </div>
                                <div class="order-items">
                                    ${order.items.map(item => `
                                        <div style="display: flex; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                                            <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: contain;">
                                            <div style="flex: 1;">
                                                <h4 style="margin: 0 0 5px 0; font-size: 16px;">${item.name}</h4>
                                                <p style="margin: 0; color: #666; font-size: 14px;">Quantity: ${item.quantity}</p>
                                                <p style="margin: 5px 0 0 0; font-weight: 600; color: #b12704;">EG${item.price.toFixed(2)}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                                <div style="margin-top: 15px; display: flex; gap: 10px;">
                                    <button class="order-action-btn">Track Package</button>
                                    <button class="order-action-btn">Leave Package Feedback</button>
                                    <button class="order-action-btn">Write a Product Review</button>
                                </div>
                            </div>
                        `;
                    }).join('');
                }
            }
        });
    </script>
</body>
</html>

